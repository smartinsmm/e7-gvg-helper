<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Détails - E7 GvG Helper</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <h1>E7 GvG Helper</h1>
    <nav>
      <a href="index.html">Liste</a>
      <a href="attack.html">Attaque</a>
    </nav>
  </header>

  <main id="details"></main>

  <script src="store.js"></script>
  <script>
    const params = new URLSearchParams(window.location.search);
    const idx = parseInt(params.get("idx"), 10);
    const data = getData();
    const container = document.getElementById("details");

    if (!data[idx]) {
      container.innerHTML = "<p>Défense introuvable.</p>";
    } else {
      const def = data[idx];
      let html = `
        <h2>Defense Team</h2>
        <div class="team">${def.defense.map(h => `<div class="hero">${h}</div>`).join('')}</div>
        <h2>Offense Team(s)</h2>
      `;
      if (!def.offenses || def.offenses.length === 0) {
        html += "<p>Aucune offense enregistrée pour cette défense.</p>";
      } else {
        def.offenses.forEach(off => {
          html += `<div class="team">${off.map(h => `<div class="hero">${h}</div>`).join('')}</div>`;
        });
      }
      container.innerHTML = html;
    }
  </script>
</body>
</html>
